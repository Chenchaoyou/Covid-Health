<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | Covid-Health</title>
  <meta name="description" content="Chapter 3 Data transformation | Covid-Health" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | Covid-Health" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | Covid-Health" />
  
  
  

<meta name="author" content="Final Project Group 23, Junzhi Ge, Natasha McLeod, Chenchao You" />


<meta name="date" content="2020-12-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script>
<link href="libs/leaflet-easybutton-1.3.1/easy-button.css" rel="stylesheet" />
<script src="libs/leaflet-easybutton-1.3.1/easy-button.js"></script>
<script src="libs/leaflet-easybutton-1.3.1/EasyButton-binding.js"></script>
<link href="libs/ionicons-2.0.1/ionicons.min.css" rel="stylesheet" />
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/dygraphs-1.1.1/shapes.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Covid-Health</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a><ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#political-data-missing-values"><i class="fa fa-check"></i><b>4.1</b> Political Data Missing Values</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#income-data-missing-values"><i class="fa fa-check"></i><b>4.2</b> Income Data Missing Values</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a><ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#work-residence-data-and-covid-case-growth"><i class="fa fa-check"></i><b>5.1</b> Work-Residence Data and Covid Case Growth</a><ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#choropleth-map-showing-commuter-packed-counties-and-covid-cases."><i class="fa fa-check"></i><b>5.1.1</b> Choropleth Map showing Commuter-packed Counties and Covid Cases.</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#time-series-comparison-between-two-counties-covid-growth"><i class="fa fa-check"></i><b>5.1.2</b> Time Series Comparison between Two Counties Covid Growth</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#income-data-and-covid-case-growth"><i class="fa fa-check"></i><b>5.2</b> Income Data and Covid Case Growth</a><ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#scatterplot-showing-covid-positive-rate-and-poverty-rate"><i class="fa fa-check"></i><b>5.2.1</b> Scatterplot showing Covid Positive Rate and Poverty Rate</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#race-data-and-covid-case-growth"><i class="fa fa-check"></i><b>5.3</b> Race Data and Covid Case Growth</a><ul>
<li class="chapter" data-level="5.3.1" data-path="results.html"><a href="results.html#biased-racial-data"><i class="fa fa-check"></i><b>5.3.1</b> Biased Racial Data</a></li>
<li class="chapter" data-level="5.3.2" data-path="results.html"><a href="results.html#scatterplots-showing-correlation-between-race-and-covid-case-growth-inoutside-metropolitan-areas"><i class="fa fa-check"></i><b>5.3.2</b> Scatterplots Showing Correlation Between Race and Covid Case Growth in/outside Metropolitan Areas</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#political-data-and-covid-case-growth"><i class="fa fa-check"></i><b>5.4</b> Political Data and Covid Case Growth</a><ul>
<li class="chapter" data-level="5.4.1" data-path="results.html"><a href="results.html#covid-situation-in-flipped-counties"><i class="fa fa-check"></i><b>5.4.1</b> Covid Situation in Flipped Counties</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Covid-Health</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Data transformation</h1>
<p>The datasets are all under the dataset folder (./dataset), and we will discuss the data cleaning/transformation of each dataset in details below:</p>
<p><b>*Health Data</b> (./dataset/Covid): the data is in good shape as it is. We only changed the column names, replacing blank spaces with underscores for better R compatibility.</p>
<p><b>*Political Data</b> (./dataset/Election): the data is also clean and we only changed the column names, replacing blank spaces and abbreviated election candidate names. The political data contains a few missing values and we will explain how to deal with those in chapter 4. We will omit the total count rows, which leaves us 62 rows corresponding to 62 county observations.</p>
<p><b>*Economic Data</b> (./dataset/Income): the economic data is gathered from US census bureau, thus the margin of error is provided for each column. After careful observation, we decided that the margin of error is trivial comparing to the reported numbers and thus we can omit the margin errors in our exploratory data analysis. The dataset is transposed to have counties in rows and variables in columns. Same column name replacement is performed to have better compatibility with R. We also deleted sub-columns corresponding to economic data of demographic subgroups. We believe that if the bin size is too small, the patterns will be less obvious in the exploratory visualization. The data has lots of missing values and we will explain how to deal with it in chapter 4 missing values.</p>
<p><b>*Geographic Data</b> (./dataset/Map): this is a shapefile that can be imported with <b>rgdal</b> package in R.</p>
<p><b>*Demographic Data</b> (./dataset/Race): the demographic data is collected from US census bureau. The same margin of error omittance, column name replacement, and table transposition are performed.</p>
<p><b>*Labor Mobility Data</b> (./dataset/Work_Residence): the labor data is collected from US census bureau. The same margin of error omittance, column name replacement, and table transposition are performed. We also deleted sub-columns that corresponds to categories that are too subdivided.</p>
<p><b>*X_Variable Data</b> (./dataset/X): After cleaning the datasets listed above, we have obtained five different datasets (Health, Political, Economic, Geographic, and Demographic) that share same 62 indexes corresponding to 62 index county. We merge all five datasets by county index into one big X_Variable dataset which is more user-friendly. The suffix of county index names are removed so that index names are compatible with the geo-information inside NYS shapefile.</p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Chenchaoyou/Covid-Health/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/Chenchaoyou/Covid-Health/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
